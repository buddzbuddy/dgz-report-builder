<mat-card class="example-sized-card">
    <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>
            Межведомственное взаимодействие
        </mat-card-title>
      </mat-card-header>
    <mat-card-content>
        <div style="padding: 20px">
            <div style="color: rgb(24, 141, 0);width: 80%; margin: 0 auto;" class="example-ripple-container mat-elevation-z2" (click)="start()" matRipple>
                <ng-container *ngIf="!isLoading">
                    <mat-icon  class="material-icons-outlined">refresh</mat-icon><br>
                    <span>Обновить все данные</span>
                </ng-container>
                <ng-container *ngIf="isLoading">
                    <mat-icon  class="material-icons-outlined">pending</mat-icon><br>
                    <span>Обновляю...</span>
                </ng-container>
              </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-toolbar>Данные ГНС</mat-toolbar>
                <table class="table table-with-col">
                    <tr>
                        <td>Кол-во обновленных записей</td>
                        <td>{{result.ip_infos}}</td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <div class="row">
                                <div style="color: darkslategray;" class="col-md-6 example-ripple-container mat-elevation-z2" (click)="downloadTemplate(2)" matRipple>
                                    <mat-icon  class="material-icons-outlined">file_download</mat-icon><br>
                                    <span>Скачать шаблон</span>
                                  </div>
                                <div style="color: green;" class="col-md-6 example-ripple-container mat-elevation-z2" (click)="fileDebtInput.click()" matRipple>
                                    <mat-icon  class="material-icons-outlined">file_upload</mat-icon><br>
                                    <span>Загрузить файл</span>
                                  </div>
                            </div>
                            <input style="display: none" type="file" (change)="uploadDebtFile(fileDebtInput.files)" #fileDebtInput accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
                        </td>
                    </tr>
                    <tr *ngIf="debtProgress > 0 || debtUploadResult">
                        <td colspan="2">

  <span class="upload" *ngIf="debtProgress > 0">
    {{debtProgress}}%
  </span>
  <span class="upload" *ngIf="debtUploadResult">
    {{debtUploadResult.message}}
  </span>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="col-md-6">
                <mat-toolbar>Данные МТСР</mat-toolbar>
                <table class="table table-with-col">
                    <tr>
                        <td>Просканировано поставщиков</td>
                        <td>{{msecDataResult?.scannedCount || 0}}</td>
                    </tr>
                    <tr *ngIf="isMsecLoading">
                        <td colspan="2">
                            <mat-spinner></mat-spinner>
                        </td>
                    </tr>
                    <tr *ngIf="msecDataResult">
                        <td colspan="2">
                            {{msecDataResult.message}}
                        </td>
                    </tr>
                  </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-toolbar>Данные ГКС</mat-toolbar>
                <table class="table table-with-col">
                    <tr>
                        <td>Кол-во обновленных записей</td>
                        <td>0</td>
                    </tr>
                  </table>
            </div>
            <div class="col-md-6">
                <mat-toolbar>Данные Госархстрой</mat-toolbar>
                    <table class="table table-with-col">
                        <tr>
                            <td>Кол-во обновленных записей</td>
                            <td>0</td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <div class="row">
                                    <div style="color: darkslategray;" class="col-md-6 example-ripple-container mat-elevation-z2" (click)="downloadTemplate(1)" matRipple>
                                        <mat-icon  class="material-icons-outlined">file_download</mat-icon><br>
                                        <span>Скачать шаблон</span>
                                      </div>
                                    <div style="color: green;" class="col-md-6 example-ripple-container mat-elevation-z2" (click)="fileLicenseInput.click()" matRipple>
                                        <mat-icon  class="material-icons-outlined">file_upload</mat-icon><br>
                                        <span>Загрузить файл</span>
                                      </div>
                                </div>
                                <input
  style="display: none"
  type="file" (change)="uploadLicenseFile(fileLicenseInput.files)"
  #fileLicenseInput
  accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
                            </td>
                        </tr>
                        <tr *ngIf="licenseProgress > 0 || licenseUploadResult">
                            <td colspan="2">

      <span class="upload" *ngIf="licenseProgress > 0">
        {{licenseProgress}}%
      </span>
      <span class="upload" *ngIf="licenseUploadResult">
        {{licenseUploadResult.message}}
      </span>
                            </td>
                        </tr>
                      </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-toolbar>Министерство<br>юстиции</mat-toolbar>
                    <table class="table table-with-col">
                        <tr>
                            <td>Кол-во обновленных записей</td>
                            <td>0</td>
                        </tr>
                      </table>
            </div>
            <div class="col-md-6">
                <mat-toolbar>Данные Судебного<br>департамента</mat-toolbar>
                    <table class="table table-with-col">
                        <tr>
                            <td>Кол-во обновленных записей</td>
                            <td>0</td>
                        </tr>
                      </table>
            </div>
        </div>
    </mat-card-content>
    <!--<mat-card-actions>
      <button mat-button>LIKE</button>
      <button mat-button>SHARE</button>
    </mat-card-actions>-->
  </mat-card>
