<div style="padding: 10px;">
  <button mat-stroked-button (click)="goMain()" matTooltip="Вернуться на главную">ГЛАВНАЯ</button>
  <div class="mat-elevation-z4" style="padding: 15px;background-color: white;">
    <div class="row">
      <div class="col-md-4">
        <mat-form-field appearance="standard">
          <mat-label>Поиск...</mat-label>
          <input matInput (keyup)="applyFilterDgz($event)" placeholder="Ex. Mia" #input>
        </mat-form-field>
      </div>
      <div class="col-md-4 sec-header">
        Сотрудники ДГЗ
      </div>
      <div class="col-md-4">
        <button style="float: right;" color="primary" mat-stroked-button (click)="addUser()">Добавить
          пользователя</button>
      </div>
    </div>
    <!--<table class="table">
      <tr>
        <th style="text-align: center;" colspan="100%">
          Сотрудники ДГЗ
        </th>
      </tr>
      <tr>
        <th>
          Дата
        </th>
        <th>
          Логин
        </th>
        <th>
          Имя
        </th>
        <th>
          Фамилия
        </th>
        <th>
          Email
        </th>
        <th>
          ПИН
        </th>
        <th>
          Роль
        </th>
        <th></th>
      </tr>
      <tr *ngFor="let a of dgzUsers">
        <td>
          {{a.createdTimestamp | date:'dd.MM.yyyy'}}
        </td>
        <td>
          {{a.username}}
        </td>
        <td>
          {{a.firstName}}
        </td>
        <td>
          {{a.lastName}}
        </td>
        <td>
          {{a.email}}
        </td>
        <td>
          {{a.attributes.userPin != null ? a.attributes.userPin[0] : '-'}}
        </td>
        <td>
          {{a.attributes.userRole != null ? a.attributes.userRole[0] : '-'}}
        </td>
        <td>
        </td>
      </tr>
    </table>
  -->
    <table *ngIf="dgzUsers.length > 0" mat-table [dataSource]="dgzUsersSrc" matSort #dgzSort>
      <ng-container matColumnDef="createdTimestamp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Дата </th>
        <td mat-cell *matCellDef="let row"> {{row.createdTimestamp | date:'dd.MM.yyyy'}} </td>
      </ng-container>
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Логин </th>
        <td mat-cell *matCellDef="let row"> {{row.username}} </td>
      </ng-container>
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Имя </th>
        <td mat-cell *matCellDef="let row"> {{row.firstName}} </td>
      </ng-container>
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Фамилия </th>
        <td mat-cell *matCellDef="let row"> {{row.lastName}} </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
        <td mat-cell *matCellDef="let row"> {{row.email}} </td>
      </ng-container>
      <ng-container matColumnDef="userPin">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ПИН </th>
        <td mat-cell *matCellDef="let row"> {{row.userPin}} </td>
      </ng-container>
      <ng-container matColumnDef="userRole">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Роль </th>
        <td mat-cell *matCellDef="let row"> {{row.userRole}} </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="dgzDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: dgzDisplayedColumns;"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="100%">Не найдены записи по запросу "{{input.value}}"</td>
      </tr>
    </table>
    <mat-paginator #dgzPaginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </div>
  <br>
  <div class="mat-elevation-z4" style="padding: 15px;background-color: white;">
    <div class="row">
      <div class="col-md-4">
        <mat-form-field appearance="standard">
          <mat-label>Поиск...</mat-label>
          <input matInput (keyup)="applyFilterBuyer($event)" placeholder="Andrew Will" #buyerInput>
        </mat-form-field>
      </div>
      <div class="col-md-8 sec-header">
        Закупающие организации
      </div>
    </div>
    <table *ngIf="buyerUsers.length > 0" mat-table [dataSource]="buyerUsersSrc" matSort #buyerSort>
      <ng-container matColumnDef="createdTimestamp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Дата </th>
        <td mat-cell *matCellDef="let row"> {{row.createdTimestamp | date:'dd.MM.yyyy'}} </td>
      </ng-container>
      <ng-container matColumnDef="orgPin">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ИНН организации </th>
        <td mat-cell *matCellDef="let row"> {{row.orgPin}} </td>
      </ng-container>
      <ng-container matColumnDef="orgName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Наименование организации </th>
        <td mat-cell *matCellDef="let row"> {{row.orgName}} </td>
      </ng-container>
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Логин </th>
        <td mat-cell *matCellDef="let row"> {{row.username}} </td>
      </ng-container>
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Имя </th>
        <td mat-cell *matCellDef="let row"> {{row.firstName}} </td>
      </ng-container>
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Фамилия </th>
        <td mat-cell *matCellDef="let row"> {{row.lastName}} </td>
      </ng-container>
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Должность </th>
        <td mat-cell *matCellDef="let row"> {{row.position}} </td>
      </ng-container>
      <ng-container matColumnDef="telephone">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Телефон </th>
        <td mat-cell *matCellDef="let row"> {{row.telephone}} </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
        <td mat-cell *matCellDef="let row"> {{row.email}} </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="buyerDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: buyerDisplayedColumns;"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="100%">Не найдены записи по запросу "{{buyerInput.value}}"</td>
      </tr>
    </table>
    <mat-paginator #buyerPaginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    <!--<table class="table">
      <tr>
        <th style="text-align: center;" colspan="100%">
          Закупающие организации
        </th>
      </tr>
      <tr>
        <th>
          Дата
        </th>
        <th>
          ИНН организации
        </th>
        <th>
          Наименование организации
        </th>
        <th>
          Логин
        </th>
        <th>
          Имя
        </th>
        <th>
          Фамилия
        </th>
        <th>
          Должность
        </th>
        <th>
          Телефон
        </th>
        <th>
          Email
        </th>
        <th></th>
      </tr>
      <tr *ngFor="let a of buyerUsers">
        <td>
          {{a.createdTimestamp | date:'dd.MM.yyyy'}}
        </td>
        <td>
          {{a.attributes.orgPin != null ? a.attributes.orgPin[0] : '-'}}
        </td>
        <td>
          {{a.attributes.orgName != null ? a.attributes.orgName[0] : '-'}}
        </td>
        <td>
          {{a.username}}
        </td>
        <td>
          {{a.firstName}}
        </td>
        <td>
          {{a.lastName}}
        </td>
        <td>
          {{a.attributes.position != null ? a.attributes.position[0] : '-'}}
        </td>
        <td>
          {{a.attributes.telephone != null ? a.attributes.telephone[0] : '-'}}
        </td>
        <td>
          {{a.email}}
        </td>
        <td>
        </td>
      </tr>
    </table>-->
  </div>
  <br>
  <div class="mat-elevation-z4" style="padding:15px;background-color: white;">
    <div class="row">
      <div class="col-md-4">
        <mat-form-field appearance="standard">
          <mat-label>Поиск...</mat-label>
          <input matInput (keyup)="applyFilterSupplier($event)" placeholder="Andrew Will" #supplierInput>
        </mat-form-field>
      </div>
      <div class="col-md-8 sec-header">
        Поставщики
      </div>
    </div>
    <table *ngIf="supplierUsers.length > 0" mat-table [dataSource]="supplierUsersSrc" matSort #supplierSort>
      <ng-container matColumnDef="createdTimestamp">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Дата </th>
        <td mat-cell *matCellDef="let row"> {{row.createdTimestamp | date:'dd.MM.yyyy'}} </td>
      </ng-container>
      <ng-container matColumnDef="orgPin">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ИНН организации </th>
        <td mat-cell *matCellDef="let row"> {{row.orgPin}} </td>
      </ng-container>
      <ng-container matColumnDef="orgName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Наименование организации </th>
        <td mat-cell *matCellDef="let row"> {{row.orgName}} </td>
      </ng-container>
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Логин </th>
        <td mat-cell *matCellDef="let row"> {{row.username}} </td>
      </ng-container>
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Имя </th>
        <td mat-cell *matCellDef="let row"> {{row.firstName}} </td>
      </ng-container>
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Фамилия </th>
        <td mat-cell *matCellDef="let row"> {{row.lastName}} </td>
      </ng-container>
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Должность </th>
        <td mat-cell *matCellDef="let row"> {{row.position}} </td>
      </ng-container>
      <ng-container matColumnDef="telephone">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Телефон </th>
        <td mat-cell *matCellDef="let row"> {{row.telephone}} </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
        <td mat-cell *matCellDef="let row"> {{row.email}} </td>
      </ng-container>
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Просмотр карточки </th>
        <td mat-cell *matCellDef="let row">
          <button color="accent" mat-icon-button (click)="viewSupplier(row.id)"
            matTooltip="Просмотр карточки поставщика">
            <mat-icon>open_in_new</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="supplierDisplayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: supplierDisplayedColumns;"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="100%">Не найдены записи по запросу "{{supplierInput.value}}"</td>
      </tr>
    </table>
    <mat-paginator #supplierPaginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    <!--<table class="table">
      <tr>
        <th style="text-align: center;" colspan="100%">
          Поставщики
        </th>
      </tr>
      <tr>
        <th>
          Дата
        </th>
        <th>
          ИНН организации
        </th>
        <th>
          Наименование организации
        </th>
        <th>
          Логин
        </th>
        <th>
          Имя
        </th>
        <th>
          Фамилия
        </th>
        <th>
          Должность
        </th>
        <th>
          Телефон
        </th>
        <th>
          Email
        </th>
        <th></th>
      </tr>
      <tr *ngFor="let a of supplierUsers">
        <td>
          {{a.createdTimestamp | date:'dd.MM.yyyy'}}
        </td>
        <td>
          {{a.attributes.orgPin != null ? a.attributes.orgPin[0] : '-'}}
        </td>
        <td>
          {{a.attributes.orgName != null ? a.attributes.orgName[0] : '-'}}
        </td>
        <td>
          {{a.username}}
        </td>
        <td>
          {{a.firstName}}
        </td>
        <td>
          {{a.lastName}}
        </td>
        <td>
          {{a.attributes.position != null ? a.attributes.position[0] : '-'}}
        </td>
        <td>
          {{a.attributes.telephone != null ? a.attributes.telephone[0] : '-'}}
        </td>
        <td>
          {{a.email}}
        </td>
        <td>
        </td>
      </tr>
    </table>-->
  </div>

</div>
